/*! coi-serviceworker v0.1.7 - Guido Zuidhof, licensed under MIT */
let co=Object.entries;let re=r=>r.headers.get("coep")!=="require-corp";let se=s=>s.headers.get("coop")!=="same-origin";let ch=r=>{if(r.status===0)return r;const h=new Headers(r.headers);h.set("Cross-Origin-Embedder-Policy","require-corp");h.set("Cross-Origin-Opener-Policy","same-origin");return new Response(r.body,{status:r.status,statusText:r.statusText,headers:h})};self.addEventListener("install",()=>self.skipWaiting());self.addEventListener("activate",e=>e.waitUntil(self.clients.claim()));self.addEventListener("fetch",e=>{if(e.request.cache==="only-if-cached"&&e.request.mode!=="same-origin")return;if(e.request.mode==="navigate"){e.respondWith(fetch(e.request).then(r=>{if(re(r)||se(r))return ch(r);return r}).catch(e=>console.error(e)))}else if(e.request.mode==="no-cors"||e.request.mode==="cors"){e.respondWith(fetch(e.request).then(r=>{if(r.status===0)return r;if(re(r))return ch(r);return r}).catch(e=>console.error(e)))}});
